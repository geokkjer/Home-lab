# Development environment configuration for MCP Server
# This file is used by direnv to automatically activate the development shell

# Use the Guile development shell from the packages directory
use flake ../

# Add current directory to Guile load path for easier module loading
export GUILE_LOAD_PATH="$PWD:${GUILE_LOAD_PATH:-}"

# Set up convenient aliases for testing
alias test-mcp="make test"
alias test-unit="make test-unit"
alias test-integration="make test-integration"
alias test-compliance="make test-compliance"
alias test-watch="make test-watch"

# Development convenience variables
export MCP_DEV_MODE=1
export MCP_LOG_LEVEL=debug

# Add build tools to path if available
if command -v guild >/dev/null 2>&1; then
    export GUILD_PATH="$PWD:${GUILD_PATH:-}"
fi

echo "ðŸ§ª MCP Protocol Core Development Environment"
echo "============================================"
echo "Available commands:"
echo "  make test           - Run all tests"
echo "  make test-unit      - Run unit tests only"
echo "  make test-integration - Run integration tests"
echo "  make check-syntax   - Check Scheme syntax"
echo "  test-mcp            - Alias for 'make test'"
echo ""
echo "Environment:"
echo "  GUILE_LOAD_PATH: $GUILE_LOAD_PATH"
echo "  MCP_DEV_MODE: $MCP_DEV_MODE"
echo ""
